@import "fonts.styl"
@import "mixins.styl"
@import "icons.styl"

baseColor = #999
linkColor = #666
hoverColor = #333

@keyframes fadeInLeft
  from
    opacity 0
    left 90%

  to
    opacity 1
    left 100%

*
  box-sizing border-box

a
.link
  color linkColor
  cursor pointer

  &:link
  &:visited
    color linkColor

a
.link
  &:hover
    color hoverColor

html
  background-color #f5f6f7
  
body
  font 14px 'Roboto', 'Helvetica Neue', Helvetica, Arial
  color baseColor
  display flex
  flex-direction column
  min-height 100vh
  max-width 1200px
  margin 0 auto
  
header
.section
footer
  display flex

header
  height 40px
  margin 20px 0 40px 0
  
.header
  
  &__logo
    width 155px
    height 27px
    background-image url('../images/logo.svg')
    background-position center
    background-repeat no-repeat
    
  &__nav
    margin-left auto
    
  &__link
    margin-left 20px
    display inline-block
    padding 0 20px
    line-height 40px
    background #fff
    box-shadow 0 1px 5px 0 rgba(0,0,0,0.1)
    border 1px solid transparent
    border-radius 3px
    text-decoration none
    
    &:first-child
      margin-left 0

    &:active
      box-shadow 0 0 1px 0 linkColor
      border 1px solid #cbcbcb
      
    & .icon
      display none
      
    &_filter
      display none
  
.section
  flex 1
  
footer
  padding 20px 0

.side
  display flex
  
  &_left
    flex-basis 220px
    
    &_padding
      padding-left 20px
    
  &_right
    padding 0 20px
    flex 1
    
  &_middle
    align-items center
    
  &_column
    flex-direction column
    
.link
  text-decoration none
  transition all .2s ease-in
  
.footer
  
  &__item
    margin-right 20px
    
    &:last-child
      margin-right 0
      
    &_last
      margin-left auto
      
.filter
  width 100%
  
  &__param
    position relative
    display flex
    align-items center
    height 50px
    padding 0 20px
    border-top 1px solid #dcdcdd
    cursor pointer
    transition all .2s
    
    &:last-child
      border-bottom 1px solid #dcdcdc
      
    &:hover
      background #e8e9ea
      
    &:hover .filter__text
      color hoverColor
      
    &:hover .filter__clear
      opacity .5
      
    &:hover .popover
      display block
      animation fadeInLeft .2s
      left 100%
      
    &_active .filter__clear
      display inline-block
      
    &_active .filter__param-text
      display none
      
    &_active .filter__param-selected
      display inline-block
      
    &-selected
      display none
      
  &__text
    overflow hidden
    text-overflow ellipsis
    white-space nowrap
    max-width 160px
    transition color .2s
      
  &__clear
    display none
    margin-left auto
    opacity .2
    transition all .2s
    
    &:hover
      background-color #fff
      border-radius 3px
      
    &:active
      background-color #c2c2c2
      
.cards
  display flex
  flex-wrap wrap
  margin 0 -10px
  
.card
  position relative
  width 33.333%
  min-width 260px
  padding 0 10px 20px 10px
  
  &__inner
    position relative
    top 0
    border-radius 3px
    box-shadow 0 1px 5px 0 rgba(0,0,0,0.1)
    transition top .2s,box-shadow .2s
    
    &:hover
      top -3px
      box-shadow 0 2px 8px 0 rgba(0,0,0,0.2)
    
  &__preview
    display block
    position relative
    background #ececec
    min-height 160px
    
  &__thumb
    display block
    border-radius 3px 3px 0 0
    width 100%
    height auto
    
  &__price
    position absolute
    left 0
    bottom 0
    width 100%
    padding 10px
    font-size 20px
    font-weight bold
    background transparent
    color #fff
    text-shadow 0 1px 2px rgba(0,0,0,0.5)
    
  &__info
    border-radius 0 0 3px 3px
    padding 10px
    background #fff
    
  &__string
    overflow hidden
    text-overflow ellipsis
    white-space nowrap
    
  &__param
    margin-right 10px
    
.popover
  position absolute
  display none
  top -10px
  left 90%
  z-index 9999
  background #fff
  border-radius 3px
  box-shadow 0 1px 5px rgba(0, 0, 0, 0.1)
  
  
  &:after
  &:before 
    content ' '
    display block
    position absolute
    top 29px
    left -7px
    background #fff
    box-shadow 0 1px 5px rgba(0, 0, 0, 0.1)
    width 14px
    height 14px
    
  &:before
    transform rotate(45deg)

  &:after
    box-shadow none
    border none
    top 21px
    left 0px
    width 20px
    height 30px
    
  &__columns
    padding 20px
    column-fill: balance;
    
    &_2
      column-count: 2;
      column-gap: 0px;
      
    &_3
      column-count: 3;
      column-gap: 0px;
    
    &_4
      column-count: 4;
      column-gap: 0px;

  &__item
    display block
    width 130px
    line-height 30px
    border 1px solid transparent
    border-radius 3px
    padding 0 10px
    
    &:active
      border-color #e5e5e5
    
    &_active
      border-color #e5e5e5
      color baseColor
      
      &:hover
        color baseColor
    
.pagination
  clearfix()
  margin 20px 0 0 0
  padding 0
  list-style none
  
  &_after
    margin-top 20px
    
  &__item
    clearfix()
    float left
    
  &__link
    display block
    line-height 40px
    border 1px solid transparent
    padding 0 17px
    border-radius 3px
    cursor pointer
    
    &:active
      border-color #dcdcdc

    &_active
      color #9d9d9d !important
      border-color #dcdcdc
      cursor default
      pointer-events none
      
@media (max-width 1020px)

  .card
    width 50%
    
@media (max-width 865px)

  .hide-2
  .footer__item_last
    display none
    
@media (min-width 800px)
  aside.side_left
    display flex !important
    
@media (max-width 800px)

  header
    margin 20px 0

  .header__text
  .hide-3
    display none
    
  .section
    flex-direction column
    
    & .side_left
      flex-basis initial
      margin-bottom 20px

  aside.side_left
    display none
    
  .header__link_filter
    display inline-block
    
  .filter__param
    
    &:hover .popover
      display none

  .filter__text
    max-width 85%
    
  .popover
    position relative
    top 0px
    left 0px
    border-radius 0px
    box-shadow none
    width 100%
    
    &:before
    &:after
      display none
      
    &__columns
      padding 0
      
      &_2
      &_3
      &_4
        column-count initial
      
    &__item
      width 100%
      line-height 35px
      border none
      border-bottom 1px solid #ececec
      padding 0 20px
      
      &:active
      &_active
        background #f9f9f9
      
      &:last-child
        border-bottom none
    

    
@media (max-width 680px)

  header
    margin 15px 0
    height 20px
    
  .header__logo
    background-image url('../images/logo_mob.svg')
    width 93px
    height 17px
    
  .header__nav
    display flex
    align-items center
    margin-right 10px
    
  .header__link
    background transparent
    border none
    padding 0
    box-shadow none
    margin-left 40px
    
    &:active
      border none
      box-shadow none
    
    & span
      display none

    & .icon
      display block
      
  .section
    & .side_left
      margin-bottom 10px

  .side_left_padding
    padding-left 10px
    
  .side_right
    padding 0 10px

  .cards
    margin 0 -5px

  .card
    padding 0 5px 10px 5px
    
    &__inner:hover
      top 0px
    
  .pagination
    margin 10px 0 0 0

  .footer__item
    display none

@media (max-width 540px)
  
  .card
    width 100%
    